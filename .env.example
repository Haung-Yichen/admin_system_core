# ===================================
# Admin System Core - 環境變數範本
# 複製此檔案為 .env 並填入實際值
# ===================================

# ===================
# 資料庫 (必填)
# ===================
DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/dbname
# SSL 模式: verify-full (生產推薦), require (預設), prefer, disable (僅開發)
DATABASE_SSL_MODE=require
# SSL 憑證路徑 (僅 verify-full 模式需要)
# DATABASE_SSL_CERT_PATH=/path/to/ca-certificate.crt

# ===================
# 伺服器設定
# ===================
SERVER_HOST=127.0.0.1
SERVER_PORT=8000
BASE_URL=https://your-domain.com

# ===================
# 應用程式設定
# ===================
APP_DEBUG=true
APP_LOG_LEVEL=INFO

# ===================
# 安全性設定
# ===================
JWT_SECRET_KEY=change_me_to_a_secure_random_string_at_least_32_chars
JWT_ALGORITHM=HS256
MAGIC_LINK_EXPIRE_MINUTES=15

# ===================
# Webhook 安全性
# ===================
# 預設 Webhook Secret (所有來源通用)
WEBHOOK_DEFAULT_SECRET=your_webhook_secret_here
# 或針對特定來源設定 (優先於預設值)
# WEBHOOK_SECRET_ADMINISTRATIVE_ACCOUNT=your_admin_webhook_secret
# WEBHOOK_SECRET_CHATBOT_SOP=your_sop_webhook_secret

# ===================
# Email (SMTP)
# ===================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_FROM_EMAIL=your_email@gmail.com
SMTP_FROM_NAME=Admin System

# ===================
# 核心 LINE 設定 (框架層身份驗證用)
# ===================
# LIFF 使用 LINE Login Channel ID (從 LIFF ID 取得前面數字部分)
# 例如 LIFF ID 為 2008988187-vqcA4kWR，則 Channel ID 為 2008988187
LINE_CHANNEL_ID=your_line_login_channel_id

# ===================
# 核心 Ragic 設定 (共用)
# ===================
RAGIC_API_KEY=your_ragic_api_key
RAGIC_BASE_URL=https://ap13.ragic.com

# ===================
# 向量搜尋設定
# ===================
EMBEDDING_MODEL_NAME=paraphrase-multilingual-MiniLM-L12-v2
EMBEDDING_DIMENSION=384
SEARCH_TOP_K=3
SEARCH_SIMILARITY_THRESHOLD=0.3

# ===================================
# Administrative 模組 (ADMIN_ 前綴)
# ===================================

# Ragic API Key (模組專用)
ADMIN_RAGIC_API_KEY=your_admin_ragic_api_key

# LINE Channel (行政系統專用 Bot)
ADMIN_LINE_CHANNEL_SECRET=your_admin_line_channel_secret
ADMIN_LINE_CHANNEL_ACCESS_TOKEN=your_admin_line_channel_access_token

# LINE LIFF
ADMIN_LINE_LIFF_ID_LEAVE=your_liff_id_for_leave_form

# 同步設定
ADMIN_SYNC_BATCH_SIZE=100
ADMIN_SYNC_TIMEOUT_SECONDS=60

# ===================================
# Chatbot 模組 (SOP_BOT_ 前綴)
# ===================================

# LINE Channel (SOP Bot 專用)
SOP_BOT_LINE_CHANNEL_SECRET=your_sop_bot_line_channel_secret
SOP_BOT_LINE_CHANNEL_ACCESS_TOKEN=your_sop_bot_line_channel_access_token

# 應用設定
SOP_BOT_APP_NAME=HSIB SOP Bot
SOP_BOT_DEBUG=false

# 向量嵌入
SOP_BOT_EMBEDDING_DIMENSION=768

# Magic Link
SOP_BOT_MAGIC_LINK_EXPIRE_MINUTES=15

# SOP 內容限制
SOP_BOT_SOP_CONTENT_MAX_LENGTH=10000
